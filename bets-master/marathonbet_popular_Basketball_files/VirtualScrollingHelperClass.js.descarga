!function(t){var a,e,n,o,r=!0,i=function(){o&&o.abort(),a&&a.unbind("scroll",l),a=t("#main_container"),e=t("[data-scrollable-content]:first",a),n=e.offset().top,r=!0,a.bind("scroll",l)},l=_.throttle(function(){var t=e.offset().top;t<n&&r&&setTimeout(f),n=t},1e3),c=_.throttle(function(){r&&setTimeout(f)},1e3),d=function(){var e=t("[data-end-of-page]:first",a);return e.length&&!o&&a.offset().top+a.height()>=e.offset().top},s=function(){var e=t("[data-end-of-page]:last",a).data("endOfPage")+1;return t("[data-virtual-scrolling-bar]",a).attr("data-virtual-scrolling-bar","loading"),o=t.Page.location(t.Page.location().href,"getPage",{dataType:"json",data:{page:e}}).updateContent(function(e){if(e)for(var n=0;n<e.length;n++){var o=e[n];if(o.selector)switch(o.selector){case"nextPageContent":var r=t(o.content).toArray(),i=t(r[0]),l=i.data("sportTreeid"),c=t(".events-container [data-sport-treeId="+l+"]:first");if(c.length){var d=t("[data-category-treeid], output",i).toArray(),s=t(d[0]).data("categoryTreeid");t("[data-category-treeid="+s+"]",c).prev().nextAll("[data-category-treeid]").remove(),t("[data-content]:first",c).append(d),r=r.slice(1)}t("[data-virtual-scrolling-bar]",a).attr("data-virtual-scrolling-bar","loading"),t(".events-container [data-sport-treeId]:last").after(r)}else if(o.prop)switch(o.prop){case"categoryUnavailable":t("#categoryUnavailableMessage").modal({position:["20%"],escClose:!1,onClose:function(){window.location.reload()}});break;case"needRedirectTo":t.Page.location().href=o.val;break;case"hasNextPage":"false"==o.val&&(t("[data-virtual-scrolling-bar]",a).remove(),t("[data-end-of-page]",a).remove())}}}).fail(function(){r=!1,t("[data-virtual-scrolling-bar]",a).attr("data-virtual-scrolling-bar","load-btn")}).done(function(){r=!0,t("[data-end-of-page]:first",a).remove()}).always(function(){o=null})},f=function(){d()&&s().done(f)};t(document).ready(function(){i(),f()}),t(window).bind("resize",c),t(document).on("click","[data-load-next-page-btn]",s);var u={Init:function(){},update:function(){i(),f()}};window.getVirtualScrollingHelper=function(){return u}}(jQuery);
//# sourceMappingURL=VirtualScrollingHelperClass.map