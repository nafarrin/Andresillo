!function(e){function t(){""==e.trim(e("#footerLinks").text())?(e("#footer").removeClass("long"),e("#body_footer").removeClass("long")):(e("#footer").addClass("long"),e("#body_footer").addClass("long"))}function a(a){return a("default",{dataType:"json"}).updateContent(function(t){for(var a=0;a<t.length;a++){var n=t[a];if(n.selector)"inner"==n.replace?e(n.selector).html(n.content):e(n.selector).replaceWith(n.content);else if(n.prop)switch(n.prop){case"windowTitle":document.title=n.val;break;case"keywords":e("meta[name=keywords]").attr("content",n.val);break;case"description":e("meta[name=description]").attr("content",n.val);break;case"reactData":window.reactData=e.parseJSON(n.val),e(document).trigger("reactData.updated");break;case"needRedirectTo":e.Page.location().href=n.val;break;case"isSingleEventPage":initData.isSingleEventPage="true"==n.val;break;case"treeIds":initData.treeIds=n.val}}}).done(function(){t(),Markets.showSilks(),o(),window.getVirtualScrollingHelper().update(),d.update(),u.update(),e(document).trigger("content.loaded")})}function n(){var t=e("[data-scrollable-container]");return t.offset()?t.offset().top:0}function o(){StickyTop(n())}function r(t){var a=e(t).closest("[data-sticky]");if(a.length){var o=e("#"+a.data("sticky")+"-dummy"),r=n();if(o.length&&o.offset().top<=r){var c=e("[data-scrollable-container]");c.scrollTop(c.scrollTop()-(r-o.offset().top))}}}function c(){return!initData.isSingleEventPage}function i(t){if(/\/(betting|popular)\//.test(e.Page.location().href)){var n=e(this).parents("[data-prematch-menu-item]:first"),o=e.PanbetLoadingStatus.setOn(n);a(function(a,n){return e.Page.location(t,a,n)}).done(function(){e("[data-scrollable-container]").scrollTop(0)}).always(function(){o.remove()})}else e.Page.location().href=t}function s(t,n){return e("[data-scrollable-container]").scrollTop(0),t.allStateChange(n,function(){return a(function(t,a){return e.Page.location(e.Page.location().href,t,a)})}).always(function(){l(),o()})}function l(){var t=e("[data-venues-category-header]");if(e(t).size()>0){var a=e(t).parents("[data-sport-treeid]").hasClass("collapsed");e(document).trigger("categoryheader.collapsed",[{state:!a}]),e("[data-category-treeid]")[a?"hide":"show"]()}}window.getBaseEventsPageHelper=function(){return{Init:function(){}}};var d=Collapsible.Manager(Collapsible.PrematchCategoriesProcessor(Collapsible.urlSearchStateStorage,function(){var t=e.URLCodec.toObject(e.Page.location().search.substr(1));return t.id=initData.treeIds,initData.base_dir+"/events/expand-category.htm?"+e.URLCodec.fromObject(t)})),u=Collapsible.Manager(Collapsible.PrematchSportsProcessor(Collapsible.urlSearchStateStorage,function(){var t=e.URLCodec.toObject(e.Page.location().search.substr(1));return t.id=initData.treeIds,initData.base_dir+"/events/expand-sport.htm?"+e.URLCodec.fromObject(t)}));window.FullCategoryManager=function(){function t(e){var t=[];if(e[o])for(var a=e[o],n=0;n<a.length;n++){var r=parseInt(a[n],10);isNaN(r)||t.push(r)}return t}function n(t,n){var o=e("[data-category-treeid='"+n+"'] [data-category-events-link-container]");if(!o.data("loading")){o.data("loading",!0);var r=e.PanbetLoadingStatus.setOn(o);a(function(a,n){return e.Page.location(t,a,n)}).always(function(){r.remove(),o.data("loading",!1)})}}var o="fc";return{showFullCategory:function(a){var r=e.URLCodec.toObject(e.Page.location().search.substr(1)),c=t(r);-1==e.inArray(a,c)&&c.push(a),r[o]=c,n({search:e.URLCodec.fromObject(r)},a)},showSelectedEvents:function(a){var r=e.URLCodec.toObject(e.Page.location().search.substr(1)),c=t(r),i=e.inArray(a,c);-1!=i&&c.splice(i,1),r[o]=c,n({search:e.URLCodec.fromObject(r)},a)}}}(),e.Links.click(/\/(betting|popular)\//,function(e){return i(e.href),!1}),e.Page.on("pageChange",function(t,n){a(function(t,a){return e.Page.reload(t,a)}).done(function(){e("[data-scrollable-container]").scrollTop(0)})}),e(document).ready(function(){o(),Markets.showSilks(),d.update(),u.update(),e("[data-scrollable-container]").scroll(o),e(window).resize(o)}),e(document).on("click","[data-collapsible] [data-collapsible-clickable-surface]",function(){var t=e(this).parents("[data-collapsible]:first"),a=t.data("sportTreeid"),n=this;return(a?u:d).toggle(t).pipe(function(){return a?d.update():e.Deferred().resolve().promise()}).done(function(){o(),window.getVirtualScrollingHelper().update(),r(n)}),!1}),e(document).on("change","[name=collapseAllCategoriesCheckbox]",function(){return s(d,e(this).prop("checked")),!1}),e(document).on("click","[data-collapse-all-categories-link]",function(){var t=e("[name=collapseAllCategoriesCheckbox]");t.prop("checked",!t.prop("checked")).change()}),e(document).on("change","[name=collapseAllSportsCheckbox]",function(){return s(u,e(this).prop("checked")),!1}),e(document).on("click","[data-collapse-all-sports-link]",function(){var t=e("[name=collapseAllSportsCheckbox]");t.prop("checked",!t.prop("checked")).change()}),e(document).on("click","[data-category-events-link]",function(){var t=e(this).parents("[data-category-treeid]:first").data("categoryTreeid");return e(this).parents("[data-category-events-link-container]:first").data("state")==FullCategoryLinks.STATE.SHOW_FULL_CATEGORY?FullCategoryManager.showFullCategory(t):FullCategoryManager.showSelectedEvents(t),!1}),e(document).on("tab-button-click",function(t,n,o){if("sportTabButtons"==n){var r=e.URLCodec.toObject(e.Page.location().search.substr(1));r.sport=o;var c=e('[data-tab-button-container="sportTabButtons"] [data-tab-button="'+o+'"]'),i=e.PanbetLoadingStatus.setOn(c);a(function(t,a){return e.Page.location({search:e.URLCodec.fromObject(r)},t,a)}).always(function(){i.remove()})}}),e(document).on("markets.members.click",function(t,a){"true"==e.cookie(initData.openEventNameSeparatelyCookieName)&&c()&&(a.preventDefault=!0,i(e("[data-event-treeid="+a.treeId+"]:first").data("eventPage")))}),e(document).on("markets.event-more-view.click",function(t,a){"true"==e.cookie(initData.openAddMarketsSeparatelyCookieName)&&c()&&(a.preventDefault=!0,i(e("[data-event-treeid="+a.treeId+"]:first").data("eventPage")))}),e(document).on("venuesStore.selectedVenues.changed",function(t,n){if(void 0!=n){var o=e.URLCodec.parse(e.Page.location().href);e.URLCodec.updateSearchParams(o,function(e){return void 0!=n.day&&(e.day=n.day),void 0!=n.events&&(0!=n.events.length?e.events=n.events.toString():delete e.events),e}),a(function(){return e.Page.location(o.href,"default",{dataType:"json"})})}}),e(document).on("click","[data-venues-category-header]",function(){return l(),!1}),e(document).on("click",".js-arrow, .js-nav-event-link",function(){var t=e(this).parents("table:first");t.hasClass("loading")||(t.addClass("loading"),e(this).hasClass("js-arrow")&&i(t.find(".js-nav-event-link").attr("href")))})}(window.jQuery);
//# sourceMappingURL=BaseEventsPageHelperClass.map